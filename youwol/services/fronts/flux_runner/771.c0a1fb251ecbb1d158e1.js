(self.webpackChunk=self.webpackChunk||[]).push([[771],{771:(e,t,s)=>{"use strict";s.r(t);var r=s(935),n=s(435),o=s(519),a=s(222);class c{constructor(){}static notify({message:e,title:t}){c.popup({message:e,title:t,classIcon:"",classBorder:""})}static error({message:e,title:t}){c.popup({message:e,title:t,classIcon:c.classesIcon[4],classBorder:c.classesBorder[4]})}static warning({message:e,title:t}){c.popup({message:e,title:t,classIcon:c.classesIcon[3],classBorder:c.classesBorder[3]})}static popup({message:e,title:t,classIcon:s,classBorder:r}){let n={class:"m-2 p-2 my-1 bg-white "+r,style:{border:"solid"},children:[{class:"fas fa-times",style:{float:"right",cursor:"pointer"},onclick:e=>{e.target.parentElement.remove()}},{class:"d-flex py-2",children:[{tag:"i",class:s},{children:[{tag:"span",class:"d-block",innerText:t},{tag:"span",class:"d-block",innerText:e}]}]}]},o=(0,a.render)(n);document.getElementById("notifications-container").appendChild(o)}}c.classesIcon={4:"fas fa-2x fa-exclamation-circle text-danger px-2 mt-auto mb-auto",3:"fas fa-2x fa-exclamation text-warning px-2 mt-auto mb-auto"},c.classesBorder={4:"border-danger",3:"border-warning"},s(897);let i=new URLSearchParams(window.location.search).get("id"),l=new class{constructor(e){this.projectId=e,this.environment=new r.Environment({renderingWindow:window,executingWindow:window,console:{...console,log:()=>{}}}),this.subscriptionStore=new Map,this.project$=new n.BehaviorSubject(void 0),(0,r.loadProjectDatabase$)(e,(()=>this.project$.getValue().workflow),this.subscriptionStore,this.environment).pipe((0,o.map)((({project:e})=>{let t=e.workflow;return[...t.plugins,...t.modules].forEach((e=>(0,r.instanceOfSideEffects)(e)&&e.apply())),e}))).subscribe((e=>this.project$.next(e)))}}(i);l.environment.errors$.pipe((0,o.filter)((e=>e.error instanceof r.ModuleError))).subscribe((e=>c.error({message:e.error.message,title:e.error.module.Factory.id}))),function(e){e.project$.pipe((0,o.filter)((e=>null!=e))).subscribe((e=>{const t=document.createElement("style");t.textContent=e.runnerRendering.style,document.head.append(t);let s=document.getElementById("content");s.innerHTML=e.runnerRendering.layout;let n=[...e.workflow.modules,...e.workflow.plugins];(0,r.renderTemplate)(s,n);let o=new Map;(0,r.subscribeConnections)(n,e.workflow.connections,o)}))}(l)}}]);
//# sourceMappingURL=771.c0a1fb251ecbb1d158e1.js.map